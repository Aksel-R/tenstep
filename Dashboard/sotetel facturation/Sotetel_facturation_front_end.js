
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Sotetel Project</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <!-- Font Awesome -->
    <link href="/sites/PWAdemo/_catalogs/masterpage/Facturation_Sotetel/css/font-awesome.min.css" rel="stylesheet">
    <!-- NProgress -->
    <link href="/sites/PWAdemo/_catalogs/masterpage/Facturation_Sotetel/css/custom1.min.css" rel="stylesheet">

<style>

#headercolor {
    background: #8fb8da;
    padding: 40px;
    margin: 0 0 10px 0;
    text-align: center;
    border-radius: 15px 15px 0px 0px;
}

#headercolor span{
    float: left;
    padding-top: 10px;
}

.smallRisks {
    font-size: 45px;
    float: right;
    font-weight: bold;
    color: white;
    position: relative;
    top: -25px;
    left: -20px;
}

.smallRisks1 {
    font-size: 50%;
    float: left;
    width: 30px;
    height: 30px;
    top: -40px;
    position: relative;
}

#tableaux th {
    background-color: #8fb8da;
    color: white;
}

#tableauxArticle th {
    background-color: #8fb8da;
    color: white;
}

#tableauxOperation th {
   background-color: #8fb8da;
   color: white;
}

#exampleFormControlTextarea4 {
    background-position: 10px 10px;
    background-repeat: no-repeat;
    width: 15%;
    font-size: 16px;
    padding: 12px 20px 12px 40px;
    border: 1px solid #ddd;
    margin-left:50px;
}


.ms-rtestate-field h1, h1.ms-rteElement-H1, .ms-rtestate-field h2, h2.ms-rteElement-H2 {
    line-height: 1.4;
    color: #000;
}


.glyphicon {
    position: relative;
    top: 1px;
    font-size: x-large;
    display: inline-block;
    font-family: "Glyphicons Halflings";
    font-style: normal;
    font-weight: 200;
    line-height: 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}


.glyphicon1 {
    position: relative;
    top: 1px;
    font-size: x-large;
    display: inline-block;
    font-family: "Glyphicons Halflings";
    font-style: normal;
    font-weight: 200;
    line-height: 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}


.glyphicon2 {
    position: relative;
    top: 1px;
    font-size: x-large;
    display: inline-block;
    font-family: "Glyphicons Halflings";
    font-style: normal;
    font-weight: 200;
    line-height: 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}


.glyphicon3 {
    position: relative;
    top: 1px;
    font-size: x-large;
    display: inline-block;
    font-family: "Glyphicons Halflings";
    font-style: normal;
    font-weight: 200;
    line-height: 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

.glyphicon4 {
    position: relative;
    top: 1px;
    font-size: x-large;
    display: inline-block;
    font-family: "Glyphicons Halflings";
    font-style: normal;
    font-weight: 200;
    line-height: 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

.glyphicon5 {
    position: relative;
    top: 1px;
    font-size: x-large;
    display: inline-block;
    font-family: "Glyphicons Halflings";
    font-style: normal;
    font-weight: 200;
    line-height: 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}




.w3-spin {
    animation: w3-spin 2s infinite linear;
}

.w3-jumbo {
    font-size: 25px!important;
    color:green;
}

option:empty
{
 display:none;
}

span#DeltaPlaceHolderPageTitleInTitleArea {
    display: none;
}


#overlay {
  position: fixed;
  height: 100%;
  width: 100%;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background: rgba(0,0,0,0.8);
  display: none;
}

#popup {
  max-width: 600px;
  width: 80%;
  padding: 20px;
  position: relative;
  background: #fff;
  margin: 20px auto;

    max-height:500px;
    overflow-y:scroll;
    overflow-x:hidden; 
}

#container {
    width:450px;
    max-height:500px;
    overflow-y:scroll;
    overflow-x:hidden;
    background-color:#eee;
    padding:20px;
    margin:20px auto;
}

#close {
  position: absolute;
  top: 10px;
  right: 10px;
  cursor: pointer;
  color: #000;
}

#close1 {
  position: absolute;
  top: 10px;
  right: 10px;
  cursor: pointer;
  color: #000;
}




#overlay1 {
  position: fixed;
  height: 100%;
  width: 100%;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background: rgba(0,0,0,0.8);
  display: none;
}

#popup1 {
  width: 80%;
  padding: 20px;
  position: relative;
  background: #fff;
  margin: 20px auto;
  max-height:500px;
  overflow-y:scroll;
  overflow-x:hidden; 
}

</style>

  </head>


      <div id="headercolor">
          <div>
            <small class="smallRisks">
              <u>Suivi et facturation : CA et RG</u>
            </small>
            <small class="smallRisks1">
              <!--<img style="width: 180px;" src="/sites/PWAdemo/_catalogs/masterpage/Facturation_Sotetel/css/tenstep.png"/>-->
            </small>
          </div>
      </div>
                          


<div id="entete1">
<table border="0" width="100%">
  <tr>
    <td><strong>Opération: </strong></td>     
    <td><input type="text" class="form-control" id="" value="Tunis" style="width: 300px; height: 35px; background-color:transparent;"></td>  

    <td><center><strong>Projet: </strong></center></td>
    <td><input type="text" class="form-control" id="" value="Sotetel OPERATION" style="float:right; width: 300px; height: 35px;"/></td>
                        
    <td><center><strong>Montant global: </strong></center></td>
    <td><input type="text" value="1515 (DT)" class="form-control" id="" style="float:right; width: 300px; height: 35px;"/></td>
  </tr>
</table>
</div>



       <div class="row" id="entete1">
             <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                  <div class="x_content">
                    <div class="row">
                      <div class="col-sm-12">
                        <div class="card-box table-responsive">

                          <table id="tableaux" class="table table-striped jambo_table bulk_action">
                            <thead>
                              <tr>
                                <th>Edit</th>
                                <th>UP</th>
                                <th>Num</th>
                                <th>ID</th>
                                <th>Code</th>
                                <th>Attachement</th>
                                <th>Date</th>
                                <th>Montant</th>
                                <th>Nb Client</th>
                                <th>Client</th>
                                <th>Utilisateur</th>
                                <th>facture</th>
                                <th>Date fact</th>
                                <th>Appel</th>
                                <th>Croquis</th>
                                <th>Pat</th>
                                <th>PV RP</th>
                                <th>RD Prévu</th>
                                <th>RPFact</th>
                                <th>RDFact</th>
                                <th>Charge ST</th>
                                <th>Sous_Trait</th>
                              </tr>
                            </thead>

                            <tbody>
                                <tr>
                                  <td><span class="glyphicon2 glyphicon-export"></span></td>
                                    <td><i class='glyphicon glyphicon-edit'></i></td>
                                    <td>1</td>
                                    <td>1021</td>
                                    <td>01</td>
                                    <td>Tenstep</td>
                                    <td>14-04-2020</td>
                                    <td>784 254 000</td>
                                    <td>0</td>
                                    <td>Tenstep</td>
                                    <td>Tenstep</td>
                                    <td>00001</td>
                                    <td>28-04-2020</td>
                                    <td>1</td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td>0. 000</td>
                                    <td>0. 000</td>
                                    <td></td>
                                    <td></td>
                                    <td>Tenstep</td>
                                </tr>

                                <tr>
                                    <td><span class="glyphicon2 glyphicon-export"></span></td>
                                    <td><i class='glyphicon glyphicon-edit'></i></td>
                                    <td>2</td>
                                    <td>1022</td>
                                    <td>02</td>
                                    <td>Tenstep</td>
                                    <td>14-04-2020</td>
                                    <td>784 254 000</td>
                                    <td>0</td>
                                    <td>Tenstep</td>
                                    <td>Tenstep</td>
                                    <td>00001</td>
                                    <td>28-04-2020</td>
                                    <td>1</td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td>0. 000</td>
                                    <td>0. 000</td>
                                    <td></td>
                                    <td></td>
                                    <td>Tenstep</td>
                                </tr>

                                <tr>
                                    <td><span class="glyphicon2 glyphicon-export"></span></td>
                                    <td><i class='glyphicon glyphicon-edit'></i></td>
                                    <td>3</td>
                                    <td>1023</td>
                                    <td>03</td>
                                    <td>Tenstep</td>
                                    <td>14-04-2020</td>
                                    <td>784 254 000</td>
                                    <td>0</td>
                                    <td>Tenstep</td>
                                    <td>Tenstep</td>
                                    <td>00001</td>
                                    <td>28-04-2020</td>
                                    <td>1</td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td>0. 000</td>
                                    <td>0. 000</td>
                                    <td></td>
                                    <td></td>
                                    <td>Tenstep</td>
                                </tr>
                            </tbody>

                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
          </div>
       </div>

                </div>
              </div>
            </div>



      </div>

<!-- ********************************************************************************************** -->

<div id="documentFacture">
<div class="card">
            <header>
                <div class="row">
                    <div class="col">
                            <img src="/sites/PWAdemo/_catalogs/masterpage/Facturation_Sotetel/css/sotetel.png" width="150" height="80" data-holder-rendered="true" />
                    </div>
                  
                    <div class="title">                      
                            <div style="float:right; font-size: 35pt;">
                                <h1>Etat des travaux realises</h1>
                            </div> 
                    </div>

                    <div class="col">
                        <center><h6>Société Tunisienne d'Entreprise de Télécommunication</h6>
                          <h6>Direction centrale technique</h6>
                          <h6>Service Facturation</h6>
                        </center>
                    </div>
                </div>
            </header>
   </div>   
</hr>
</br>

<div class="row mb-2" id="enteteFacture">

       <div class="col-md-6">
          <div class="card flex-md-row mb-6 shadow-sm h-md-250">
            <div class="card-body d-flex flex-column align-items-start">
             <table id="tableauxFacture" border="0" width="100%">
                <tr height="50px">
                  <td><div class="mb-1 text-muted"><strong>Code projet: </strong></div></td>
                  <td><div type="text" class="form-control" id="" style="text-align:center; width: 300px; height: 35px;">82042001</div></td> 
                </tr> 


                <tr height="50px">
                    <td><div class="mb-1 text-muted"><strong>Région: </strong></div></td>
                    <td>
                      <div type="text" class="form-control" id="" style="text-align:center; width: 300px; height: 35px;">Ariana Tunis</div>
                    </td>
                </tr>

                <tr height="50px">
                <td><div class="mb-1 text-muted"><strong>Projet: </strong></div></td>
                  <td>
                    <div type="text" class="form-control" id="" style="text-align:center; width: 300px; height: 35px;">Sotetel</div>
                   </td>
                </tr>


                <tr height="50px">
                  <td><div class="mb-1 text-muted"><strong>Réception:</strong></div></td>
                  <td>
                      <div type="text" class="form-control" id="" style="text-align:center; width: 300px; height: 35px;">115</div>
                  </td>
                </tr>

                <tr height="50px">
                  <td><div class="mb-1 text-muted"><strong>TVA:</strong></div></td>
                  <td>   
                      <div type="text" class="form-control" id="" style="text-align:center; width: 300px; height: 35px;">19 %</div>
                  </td>
                </tr>

            </table>
            </div>
          </div>
        
</div>       



    <div class="col-md-6">
        <div class="card flex-md-row mb-6 shadow-sm h-md-250">
          <div class="card-body d-flex flex-column align-items-start">
             <table border="0" width="100%">
                <tr height="50px">
                  <td><div class="mb-1 text-muted"><strong>Appel:</strong></div></td>
                  <td>
                      <div type="text" class="form-control" id="" style=" text-align:center; width: 300px; height: 35px;">4587962</div>
                  </td> 
                </tr> 

                <tr height="50px">
                    <td><div class="mb-1 text-muted"><strong>PO:</strong></div></td>
                    <td>
                      <div type="text" class="form-control" id="" style="text-align:center; width: 300px; height: 35px;">1050123</div>
                    </td>
                </tr>

                <tr height="50px">
                <td><div class="mb-1 text-muted"><strong>Activité:</strong></div></td>
                  <td>
                    <div type="text" class="form-control" id="" style="text-align:center; width: 300px; height: 35px;">Développement</div>
                  </td>
                </tr>

                <tr height="50px">
                  <td><div class="mb-1 text-muted"><strong>Client:</strong></div></td>
                  <td>
                      <div type="text" class="form-control" id="" style="text-align:center; width: 300px; height: 35px;">Sotetel</div>
                  </td>
                </tr>

                <tr height="50px">
                  <td><div class="mb-1 text-muted"><strong>Attachements:</strong></div></td>
                  <td>   
                      <div type="text" class="form-control" id="" style="text-align:center; width: 300px; height: 35px;">11726,11727</div>
                  </td>
                </tr>

            </table>
            </div>
     
</div>
</div>
</div>

<div class="row">
             <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                  <div class="x_content">
                    <div class="row">
                      <div class="col-sm-12">
                        <div class="card-box table-responsive">
                        
<fieldset>
<legend color="blue" font-weight="bold">Lignes Article</legend>
                          
                          <table id="tableaux" class="table table-striped jambo_table bulk_action">
                            <thead>
                                <tr>
                                    <th>N°</th>
                                    <th>Code article</th>
                                    <th>Article</th>
                                    <th>Unité</th>
                                    <th>Quantité</th>
                                    <th>Prix Unit</th>
                                    <th>Prix Tot</th>
                                </tr>
                            </thead>

                            <tbody>

                                <tr>
                                    <td>1</td>
                                    <td>SCE125415</td>
                                    <td>Article 1</td>
                                    <td>U</td>
                                    <td>5.0000</td>
                                    <td>266.650</td>
                                    <td>1333.250</td>
                                </tr>

                            </tbody>

                          </table>
</fieldset>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
          </div>
       </div>

               





<div class="row">
<div style="float:right;" class="col-lg-4 col-sm-5 ml-auto">
      <table id="tableaux" class="table table-clear">
        <tbody>

            <tr>
                <td class="right">
                    <strong>Montant HT:</strong>
                </td>

                <td class="right">
                    <div type="text" class="form-control" id="" style="margin:auto; text-align:center; width: 200px; height: 35px;">266.650</div>
                </td>
            </tr>

            <tr>
                <td class="right">
                 <strong>TVA:</strong>
                </td>

                <td class="right">
                    <div type="text" class="form-control" id="" style="margin:auto; text-align:center; width: 200px; height: 35px;">34.664</div>
                </td>
            </tr>

            <tr>
                <td class="right">
                    <strong>Montant TTC:</strong>
                </td>
                
                <td class="right">
                    <div type="text" class="form-control" id="" style="margin:auto; text-align:center; width: 200px; height: 35px;">1333.250</div>
                </td>
            </tr>
        </tbody>
      </table>
</div>
</div>

<hr size="5">
<div class="mb-1 text-muted"><strong>Signatures:</strong></div>
<hr size="5">

<div class="mb-1 text-muted"><center><strong style="font-size: large;">Responsable sotetel</strong></center></div>
</div>

<!-- *****************************************Page d'accueil ************************************** -->


<div class="row mb-2" id="entete2">

       <div class="col-md-6">
          <div class="card flex-md-row mb-4 shadow-sm h-md-250">
            <div class="card-body d-flex flex-column align-items-start">
            <div class="x_panel">
             <table border="0" width="100%">
                <tr height="50px">
                  <td><div class="mb-1 text-muted"><strong>Code : </strong></div></td>
                  <td><div type="text" class="form-control" id="codepr" style="width: 300px; height: 35px; background-color:transparent;"></div></td> 
                </tr> 


                <tr height="50px">
                    <td><div class="mb-1 text-muted"><strong>Projet : </strong></div></td>
                    <td>
                      <div type="text" class="form-control" id="nompr" style="width: 300px; height: 35px;"></div>
                    </td>
                </tr>

                <tr height="50px">
                <td><div class="mb-1 text-muted"><strong>Date début: </strong></div></td>
                  <td>
                    <div type="text" class="form-control" id="datedeb" style="width: 300px; height: 35px;"></div>
                   </td>
                </tr>


                <tr height="50px">
                  <td><div class="mb-1 text-muted"><strong>PO :</strong></div></td>
                  <td>
                      <div type="text" class="form-control" id="popr" style="width: 300px; height: 35px;"></div>
                  </td>
                </tr>

                <tr height="50px">
                  <td><div class="mb-1 text-muted"><strong>Date fin :</strong></div></td>
                  <td>   
                      <div type="text" class="form-control" id="datefin" style="width: 300px; height: 35px;"></div>
                  </td>
                </tr>
            </table>
            </div>
          </div>
        </div>
</div>       



       <div class="col-md-6">
          <div class="card flex-md-row mb-4 shadow-sm h-md-250">
            <div class="card-body d-flex flex-column align-items-start">
            <div class="x_panel">
             <table border="0" width="100%">
                <tr height="50px">
                  <td><div class="mb-1 text-muted"><strong>Montant global Attachement :</strong></div></td>
                  <td>
                      <div type="text" class="form-control" id="montantglob" style="width: 300px; height: 35px; background-color:transparent;">1515 DT</div>
                  </td> 
                </tr> 

                <tr height="50px">
                    <td><div class="mb-1 text-muted"><strong>Réception Prov(%) :</strong></div></td>
                    <td>
                      <div type="text" class="form-control" id="recepProv" style="width: 300px; height: 35px;"></div>
                    </td>
                </tr>

                <tr height="50px">
                <td><div class="mb-1 text-muted"><strong>% Réception Def :</strong></div></td>
                  <td>
                    <div type="text" class="form-control" id="recepDef" style="width: 300px; height: 35px;"></div>
                  </td>
                </tr>

                <tr height="50px">
                  <td><div class="mb-1 text-muted"><strong>Période garantie :</strong></div></td>
                  <td>
                    <div type="text" class="form-control" id="periodGr" style="width: 300px; height: 35px;"></div>
                  </td>
                </tr>

                <tr height="50px">
                  <td><div class="mb-1 text-muted"><strong>Montant contractuel :</strong></div></td>
                  <td>   
                      <div type="text" class="form-control" id="" style="width: 300px; height: 35px;">1515</div>
                  </td>
                </tr>

            </table>
            </div>
            </div>
       
</div>
</div>

</div>

      <div class="row" id="entete2">
             <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                  <div class="x_content">
                    <div class="row">
                      <div class="col-sm-12">
                        <div class="card-box table-responsive">
                          
                          <table id="tableauxOperation" class="table table-striped jambo_table bulk_action">
                            <thead>
                              <tr>
                                <th>Attachement</th>
                                <th>Recap</th>
                                <th>Id Opération</th>
                                <th>Libellé Opération</th>
                                <th>Date début</th>
                                <th>Date fin</th>
                                <th>Montant</th>
                                <th>Date Prévu réception Prov</th>
                                <th>Exécuteur</th>
                              </tr>
                            </thead>
                            <tbody>
                                <tr class="rowOperation">
                                    <td><i class='glyphicon1 glyphicon-edit'></i></td>
                                    <td><span class="glyphicon4 glyphicon-forward"></span></td>
                                    <td>1</td>
                                    <td class="libelle">Ras Jebel</td>
                                    <td class="datedébutopo">04-05-2020</td>
                                    <td class="datefinop">04-05-2020</td>
                                    <td class="montantop">10</td>
                                    <td class="dateprev"></td>
                                    <td class="executeur">P1</td>
                                </tr>

                                <tr class="rowOperation">
                                    <td><i class='glyphicon1 glyphicon-edit'></i></td>
                                    <td><span class="glyphicon4 glyphicon-forward"></span></td>
                                    <td>2</td>
                                    <td class="libelle">Tunis</td>
                                    <td class="datedébutopo">05-05-2020</td>
                                    <td class="datefinop">05-05-2020</td>
                                    <td class="montantop">12</td>
                                    <td class="dateprev"></td>
                                    <td class="executeur">P2</td>
                                </tr>

                                <tr class="rowOperation">
                                    <td><i class='glyphicon1 glyphicon-edit'></i></td>
                                    <td><span class="glyphicon4 glyphicon-forward"></span></td>
                                    <td>2</td>
                                    <td class="libelle">Bizerte</td>
                                    <td class="datedébutopo">05-05-2020</td>
                                    <td class="datefinop">05-05-2020</td>
                                    <td class="montantop">32</td>
                                    <td class="dateprev"></td>
                                    <td class="executeur">P3</td>
                                </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
          </div>
                          <input type="button" onclick="createItemListOperation(); window.location.reload(false)" value="Enregistrer" style="float:right;"/>
       </div>


<!-- ***************************************Articles***************************************** -->


<div id="entete3">

<div class="row mb-2">

       <div class="col-md-6">
        <div class="x_panel">
          <div class="card flex-md-row mb-4 shadow-sm h-md-250">
            <div class="card-body d-flex flex-column align-items-start">
             <table border="0" width="100%">
                <tr height="50px">
                  <td><div class="mb-1 text-muted"><strong>Projet : </strong></div></td>
                  <td><div type="text" class="form-control" id="" style="width: 300px; height: 35px;" >Sotetel OPERATION</div></td> 
                </tr> 


                <tr height="50px">
                    <td><div class="mb-1 text-muted"><strong>Code attachement : </strong></div></td>
                    <td>
                      <div type="text" class="form-control" id="" style="width: 300px; height: 35px;"></div>
                    </td>
                </tr>

                <tr height="50px">
                <td><div class="mb-1 text-muted"><strong>Date début: </strong></div></td>
                  <td>
                    <div type="text" class="form-control" id="" style="width: 300px; height: 35px;">06-05-2020</div>
                   </td>
                </tr>


                <tr height="50px">
                  <td><div class="mb-1 text-muted"><strong>TVA :</strong></div></td>
                  <td>
                      <div type="text" class="form-control" id="" style="width: 300px; height: 35px;"></div>
                  </td>
                </tr>

            </table>
            </div>
          </div>
         </div>
</div>       



       <div class="col-md-6">
        <div class="x_panel">
          <div class="card flex-md-row mb-4 shadow-sm h-md-250">
            <div class="card-body d-flex flex-column align-items-start">
             <table border="0" width="100%">
                <tr height="50px">
                  <td><div class="mb-1 text-muted"><strong>Opération :</strong></div></td>
                  <td>
                      <div type="text" class="form-control" id="" style="width: 300px; height: 35px;">Tunis</div>
                  </td> 
                </tr> 

                <tr height="50px">
                    <td><div class="mb-1 text-muted"><strong>Attachement :</strong></div></td>
                    <td>
                      <div type="text" class="form-control" id="" style="width: 300px; height: 35px;">Tenstep</div>
                    </td>
                </tr>

                <tr height="50px">
                <td><div class="mb-1 text-muted"><strong>Bénificier :</strong></div></td>
                  <td>
                    <div type="text" class="form-control" id="" style="width: 300px; height: 35px;"></div>
                  </td>
                </tr>

                <tr height="50px">
                  <td><div class="mb-1 text-muted"><strong>Montant attachement :</strong></div></td>
                  <td>
                      <div type="text" class="form-control" id="" style="width: 300px; height: 35px;"></div>
                  </td>
                </tr>

            </table>
            </div>
       </div>
</div>
</div>
</div>



<div class="row">
             <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                  <div class="x_content">
                    <div class="row">
                      <div class="col-sm-12">
                        <div class="card-body d-flex flex-column align-items-start">
                          
                          <table border="0" width="100%">
                            <tr>
                        <td><div class="mb-1 text-muted"><strong>Choisir un article : </strong></div></td>
                        <td>
                            <select class="form-control" id="city" name="city" data-live-search="true">
                                <option data-tokens="ketchup mustard" value="Article 1">Article 1</option>
                                <option data-tokens="mustard" value="Article 2">Article 2</option>
                                <option data-tokens="frosting"value="Article 3">Article 3</option>
                            </select>
                        </td> 

                        <td><input type="number" class="form-control" id="quantite" style="float:right; width: 80px; height: 35px;"/></td>
                        <td><input type="text" value="50" id="prixMontant" style="display:none; float:right; width: 80px; height: 35px;"/></td>
                        <td><input type="button" class="btn btn-primary" onclick="AddData();" value="Enregistrer" id="" style="font-size: larger; background-color:#8fb8da;float:right; color:white; width: 250px; height: 35px;"/></td>
                      </tr>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
          </div>
</div>




<div class="row">
             <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                  <div class="x_content">
                    <div class="row">
                      <div class="col-sm-12">
                        <div class="card-box table-responsive">
                          <table id="tableauxArticle" class="table table-striped jambo_table bulk_action">
                            <thead>
                              <tr>
                                <th>Supprimer</th>
                                <th>Id ligne Attachement</th>
                                <th>Code article</th>
                                <th>Libe article</th>
                                <th>Quantité article</th>
                                <th>Montant</th>
                              </tr>
                            </thead>
                            <tbody>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
          </div>
</div>




<!-- *********************Fin de l'interface des listes des articles ******************* -->
</div>




<!--  ******************** On cliquant sur le bouton RECAP de chaque opération *********  -->


<div class="row" id="entete4">
             <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                  <div class="x_content">
                    <div class="row">
                      <div class="col-sm-12">
                        <div class="card-body d-flex flex-column align-items-start">
                          
                          <table border="0" width="100%">
                            <tr>
                              <td><div class="mb-1 text-muted"><strong>Projet : </strong></div></td>
                              <td><div type="text" class="form-control" id="" style="width: 300px; height: 35px; background-color:transparent;">Sotetel OPERATION</div></td> 
                              
                              <td><div class="mb-1 text-muted"><strong>Opération : </strong></div></td>
                              <td><div type="text" class="form-control" id="" style="width: 300px; height: 35px;">Tunis</div></td>
                              
                              <td><div class="mb-1 text-muted"><strong>Montant global Att: </strong></div></td>
                              <td><div type="text" class="form-control" id="" style="width: 300px; height: 35px;">1515 (DT)</div></td>
                            </tr>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
</div>


<div class="row" id="entete4">
 <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                  <div class="x_content">
  <div class="row">
    <div class="col-12">
      <table border="0">

        <tbody>
          <tr>
            <td>
              <div class="custom-control custom-checkbox">
                  <input type="checkbox" class="custom-control-input" id="customCheck2">
                  <label class="custom-control-label" for="customCheck2">Attachement 11726</label>
              </div>
            </td>

          </tr>
          <tr>
            <td>
              <div class="custom-control custom-checkbox">
                  <input type="checkbox" class="custom-control-input" id="customCheck3">
                  <label class="custom-control-label" for="customCheck3">Attachement 11727</label>
              </div>
            </td>
          </tr>
          <tr>
            <td>
              <div class="custom-control custom-checkbox">
                  <input type="checkbox" class="custom-control-input" id="customCheck4">
                  <label class="custom-control-label" for="customCheck4">Attachement 11728</label>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
  </div>
  </div>
</div>



<div class="row mb-2" id="entete4">

       <div class="col-md-6">
        <div class="x_panel">
          <div class="card flex-md-row mb-4 shadow-sm h-md-250">
            <div class="card-body d-flex flex-column align-items-start">
             <table border="0" width="100%">
                
                <tr height="50px">
                  <td><div class="mb-1 text-muted"><strong>Description : </strong></div></td>
                  <td><input type="text" class="form-control" id="" style="width: 300px; height: 35px; background-color:transparent;"/></td> 
                </tr> 


                <tr height="50px">
                    <td><div class="mb-1 text-muted"><strong>Appel N° : </strong></div></td>
                    <td>
                      <input type="text" class="form-control" id="" style="width: 300px; height: 35px;"/>
                    </td>
                </tr>

            </table>
            </div>
          </div>
         </div>
</div>       



       <div class="col-md-6">
        <div class="x_panel">
          <div class="card flex-md-row mb-4 shadow-sm h-md-250">
            <div class="card-body d-flex flex-column align-items-start">
             <table border="0" width="100%">
                <tr height="50px">
                  <td><div class="mb-1 text-muted"><strong>Région :</strong></div></td>
                  <td>
                      <input type="text" class="form-control" id="" style="width: 300px; height: 35px; background-color:transparent;"/>
                  </td> 
                </tr> 

                <tr height="50px">
                    <td><div class="mb-1 text-muted"><strong>Réception N° :</strong></div></td>
                    <td>
                      <input type="text" class="form-control" id="" style="width: 300px; height: 35px;"/>
                    </td>
                </tr>
            </table>
            </div>
       </div>
</div>
</div>
    <div style="margin:auto;">
        <input type="button" class="btn btn-primary" value="Enregistrer" id="" style="font-size:large; background-color:#8fb8da; color:white; width: 250px;"/>
    </div>
</div>

      <div class="row" id="entete4">
             <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                  <div class="x_content">
                    <div class="row">
                      <div class="col-sm-12">
                        <div class="card-box table-responsive">
                          
                          <table id="tableaux" class="table table-striped jambo_table bulk_action">
                            <thead>
                              <tr>
                                <th>N°</th>
                                <th>Code article</th>
                                <th>Article</th>
                                <th>Unité</th>
                                <th>Quantité</th>
                                <th>Prix unit</th>
                                <th>Prix tot</th>
                              </tr>
                            </thead>

                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td>149</td>
                                    <td>Article 1</td>
                                    <td>U</td>
                                    <td>5.000</td>
                                    <td>266.250</td>
                                    <td>1331.250</td>
                                </tr>
                            </tbody>

                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
          </div>
          <strong>Cliquer pour imprimer : <span class="glyphicon5 glyphicon-print"></span></strong>
          
       </div>

<!-- *********************************************************************************** -->

<!-- **************************************Show popup*********************************** -->



     <div id="overlay">
      <div id="popup">

        <div id="close">X</div>

              <div class="form-group">
                        <label for="date" class="control-label">Code</label>
                        <input type="text" class="form-control" name="codeEdit" id="codeEdit"/>
                    </div>

                    <div id="AttEdit" class="form-group">
                        <label for="text" class="control-label">Attachement</label>
                        <input type="text" class="form-control" name="AttEdit"/>
                    </div>

                    <div id="appelID" class="form-group" >
                        <label for="text" class="control-label">Appel</label>
                        <input type="text" class="form-control" name="" />
                    </div>

                    <div id="recepID" class="form-group" >
                        <label for="text" class="control-label">Recep Prov fact</label>
                        <input type="text" class="form-control" name=""  />
                    </div>

                    <div id="RecepDefID" class="form-group" >
                        <label for="text" class="control-label">Recep def facture</label>
                        <input type="text" class="form-control" name=""/>
                    </div>

                    <div class="form-group">
                        <label for="date" class="control-label">Date</label>
                        <input type="date" class="form-control" name="" id=""  />
                    </div>

                    <div class="form-group">
                        <label for="text" class="control-label">Nombre client</label>
                        <input type="text" class="form-control" name="" id=""  />
                    </div>

                    <div class="form-group">
                        <label for="text" class="control-label">Bénificier</label>
                        <input type="text" class="form-control" name="" id=""  />
                    </div>

                    <div class="form-group">
                        <label for="text" class="control-label">Facture</label>
                        <input type="text" class="form-control" name="" id=""  />
                    </div>

                    <div class="form-group">
                        <label for="text" class="control-label">Date facture</label>
                        <input type="date" class="form-control" name="" id=""  />
                    </div>

                    <div class="form-group">
                        <label for="text" class="control-label">Récep-prov</label>
                        <input type="text" class="form-control" name="" id=""  />
                    </div>

                    <div class="form-group">
                        <label for="text" class="control-label">Croquis</label>
                        <input type="text" class="form-control" name="" id=""  />
                    </div>

                    <div class="form-group">
                        <label for="text" class="control-label">Sous_traitance</label>
                        <input type="text" class="form-control" name="" id=""  />
                    </div>
                        
                       

                    <div class="form-group">
                        <label for="text" class="control-label">PAT</label>
                        <input type="text" class="form-control" name="" id="" />
                    </div>

                    <div align="center" class="form-group">
                        <input type="submit" id="modifier" name="modifier" value="Modifier" class="btn btn-primary">
                    </div>
           
      </div>
    </div>
<!-- *********************************************************************************************** -->

<!-- ************************************ Impression facture **************************************** -->


<!-- *********************************************************************************************** -->

    <!-- jQuery -->


 <script src="/sites/PWAdemo/_catalogs/masterpage/Facturation_Sotetel/javascript/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.SPServices/2014.02/jquery.SPServices-2014.02.js"></script>
  <!-- Bootstrap -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
<script src="/sites/PWAdemo/_catalogs/masterpage/Facturation_Sotetel/javascript/bootstrap.min.js"></script>
  <!-- FastClick -->
<script src="/sites/PWAdemo/_catalogs/masterpage/Facturation_Sotetel/javascript/fastclick.js"></script>
  <!-- NProgress -->
<script src="/sites/PWAdemo/_catalogs/masterpage/Facturation_Sotetel/javascript/nprogress.js"></script>
<script type="text/javascript" src="https://momentjs.com/downloads/moment-with-locales.js"></script>


<script type="text/javascript">

/*function RecuperationDataTable() {

        $.ajax({
                     url: _spPageContextInfo.siteAbsoluteUrl + "/_api/web/lists/getbytitle('SotetelArticles')/items?",
                                                                                               
                                    method: "GET",
                                    dataType: "json",
                                    headers: {Accept: "application/json;odata=verbose"},       
                                    success: function(data) {     
                                    var dataResults = data.d.results;
                                    var i=1;
                   $.each(dataResults, function(key, value) 
                    {
                               
                              var codearticle = value.code_arti;
                              var article = value.Article;
                              var unite = value.Unite;
                              var prixunit = value.prix_unit;
                              var dateprix = value.prix_unit_nord;
                              var sarticle = value.prix_unit_sud;
                
                var tr;  
                  tr = $("<tr class='rowOperation'/>");
                    tr.append("<td><i class='glyphicon1 glyphicon-edit'></i></td>");
                    tr.append("<td><span class='glyphicon4 glyphicon-forward'></span></td>"); 
                    tr.append("<td>" + i + "</td>");
                    tr.append("<td class='libelle'>" + codearticle + "</td>");
                    tr.append("<td class='datedébutopo'>" +dateprix + "</td>");       
                    tr.append("<td class='datefinop'>" + unite + "</td>");
                    tr.append("<td class='montantops'>" +sarticle + "</td>"); 
                    tr.append("<td class='dateprev'>" + prixunit + "</td>");
                    tr.append("<td class='executeur'>" + article + "</td>"); 
                             
                   $('#tableauxOperation').append(tr);  
                   i++;
                    
            });
}   
});
}                                  
  _spBodyOnLoadFunctionNames.push("RecuperationDataTable");*/


//Récuperer des données du projet 
function LoadDataProject() {

        var data =  $.ajax({ url: _spPageContextInfo.siteAbsoluteUrl + "/_api/ProjectData/Projets(guid'0a82eb09-e91c-ea11-9125-000c29ed4830')",
                                                                                               
            type: "GET",
            dataType: "json",
            headers: {
                "Accept": "application/json; odata=verbose"}});
                  var listItemInfo1  = "";
                  var listItemInfo2  = "";
                  var listItemInfo3  = "";
                  var listItemInfo4  = "";
                  var listItemInfo5  = "";
                  var listItemInfo6  = "";
                  var listItemInfo7  = "";
                  var listItemInfo8  = "";
                  var listItemInfo9  = "";
                
                data.done(function (data,textStatus, jqXHR){

                    if (data.d.results == undefined) {  
                        data.d.results = new Array();
                        data.d.results[0] = new Object();

                        data.d.results[0] = data.d.Codeprojet;
                        data.d.results[0] = data.d.NomProjet;
                        data.d.results[0] = data.d.DateDébutProjet;
                        data.d.results[0] = data.d.DateFinProjet;
                        data.d.results[0] = data.d.PO;

                        data.d.results[0] = data.d.RProv;
                        data.d.results[0] = data.d.RDéfi;
                        data.d.results[0] = data.d.Montant;
                        data.d.results[0] = data.d.Garantie;

                        moment.locale('fr');

                        var codeprojet = data.d.Codeprojet;
                        var nomprojet = data.d.NomProjet;


                        var datedebut = data.d.DateDébutProjet;
                        var datedebut = moment(datedebut).format('L');
                        
                        var datefin = data.d.DateFinProjet;
                        var datefin = moment(datefin).format('L');

                        var popr = parseFloat(data.d.PO).toFixed(0);

                        var rprov= data.d.RProv;
                        var rdefi = data.d.RDéfi;
                        var montant = parseFloat(data.d.Montant).toFixed(3);
                        var garantie = parseFloat(data.d.Garantie).toFixed(0);

                    listItemInfo1 +=  codeprojet;
                    listItemInfo2 +=  nomprojet;
                    listItemInfo3 +=  datedebut;
                    listItemInfo4 +=  datefin;
                    listItemInfo5 +=  popr;
                    listItemInfo6 +=  rprov;
                    listItemInfo7 +=  rdefi;
                    listItemInfo8 +=  montant;
                    listItemInfo9 +=  garantie;

                $("#codepr").html(listItemInfo1);
                $("#nompr").html(listItemInfo2);
                $("#datedeb").html(listItemInfo3);
                $("#datefin").html(listItemInfo4);
                $("#popr").html(listItemInfo5);

                $("#montantglob").html(listItemInfo6);
                $("#recepProv").html(listItemInfo7);
                $("#recepDef").html(listItemInfo8);
                $("#periodGr").html(listItemInfo9);

            }
        });
    }
_spBodyOnLoadFunctionNames.push("LoadDataProject");




//Insertion des données du Tableau selon le filtrage saisi
function createItemListOperation()  
{  
               $(".rowOperation").each(function(index) {  

                  var libelle   = "";
                  var datedébut = "";
                  var datefinop = "";
                  var montantop = "";
                  var dateprev  = "";
                  var executeur = "";

            libelle   += ($(this).closest('tr').find('.libelle').text()); 

                      datedébut += ($(this).closest('tr').find('.datedébutopo').text()); 
                   
                      datefinop += ($(this).closest('tr').find('.datefinop').text()); 
                   
                      montantop += ($(this).closest('tr').find('.montantop').text());
                    
                      dateprev  += ($(this).closest('tr').find('.dateprev').text());
                      
                      executeur += ($(this).closest('tr').find('.executeur').text());
                      
                    $().SPServices(  
                    {  
                        operation: "UpdateListItems",  
                        async: true,   
                        webURL: "/sites/TSPWAdemo/Sotetel_facturation/",  
                        batchCmd: "New",  
                        listName: "OperationSaisie",  
                        valuepairs: [  
                            ["Libelle"   , libelle],
                            ["Datedebut",datedébut],
                            ["Datefin",datefinop],
                            ["Montant",montantop],
                            ["Dateprev",dateprev],
                            ["Executeur",executeur]
                        ],
                        completefunc: function (xData, Status) {
                    if(status == "success") 
                      {
                          alert("Thank you, for your inquiry!" );
                      }
                  
                  else{
                          console.log("Unable to submit your request at this time.");
                      }
                }   
                    });  
            });
}




  $('div#entete1').hide();
  $('div#entete3').hide();
  $('div#entete4').hide();
  $('#documentFacture').hide();


    //Show the attachement of opération
$(document).ready(function() {
  $('.glyphicon1').click(function() {
    $('div#entete1').show();  
    $('div#entete2').hide(); 
  });
});

  //showPopup Article
$(document).ready(function() {
  $('.glyphicon2').click(function() {
    $('div#entete3').show(); 
    $('div#entete1').hide();  
  });
});

$(document).ready(function() {
  $('.glyphicon4').click(function() {
    $('div#entete4').show(); 
    $('div#entete2').hide();  
  });
});


$(document).ready(function() {
  $('.glyphicon5').click(function() {
    $('#documentFacture').show(); 
    $('div#entete4').hide();  
  });
});
      
//ShowPop_Up
$(document).ready(function() {
  $('.glyphicon').click(function() {
    $('#overlay').fadeIn(300);  
  });
  $('#close').click(function() {
    $('#overlay').fadeOut(300);
  });
});



//------------------------------------Show user group and group--------------------------------
$('#RecepDefID').hide();
$('#appelID').hide();
$('#recepID').hide();

function getCurrentUserGroupColl(UserID)
{
  $.ajax
  ({
  url: _spPageContextInfo.webServerRelativeUrl + "/_api/web/GetUserById("+UserID+")/Groups",
  type: "GET",
  headers: { "Accept": "application/json; odata=verbose","X-RequestDigest": $("#__REQUESTDIGEST").val() },
  dataType: "json",
  async: true,
   success: function(data){
      /* get all group's title of current user. */
      var results = data.d.results;
      for(var i=0; i< results.length; i++)
      {
        if(results[i].Title == "Commercial")
        {       
            $('#RecepDefID').show();
            $('#appelID').show();
            $('#recepID').show();
        }
            console.log(results[i].Title)
      }
  }
  });
}


function getCurrentUser()
{
 $.ajax
  ({
      url: "/sites/TSPWAdemo/_api/web/CurrentUser",
      type: "GET",
      headers: { "Accept": "application/json; odata=verbose","X-RequestDigest": $("#__REQUESTDIGEST").val() },
      dataType: "json",
      async: true,
      success: function(data){
        getCurrentUserGroupColl(data.d.Id)
      }
  });
}  

$(document).ready(function()
{ 
    getCurrentUser();
});


//************* Impression de la Facture *************
function ImprimerFacture() 
{
  var divToPrint=document.getElementById('entete2');

  var newWin=window.open('','Print-Window');
  //newWin.document.write('<link rel="stylesheet" href="css/midday_receipt.css" type="text/css" />');
  newWin.document.open();

  newWin.document.write('<html><body onload="window.print()">'+divToPrint.innerHTML+'</body></html>');

  newWin.document.close();

  setTimeout(function(){newWin.close();},10);
}



function AddData() {
    
        var rows = "";
        var quantite = document.getElementById("quantite").value;
        var city = document.getElementById("city").value;
        var id= "1";
        var libArt = "33";
        var prix = document.getElementById('prixMontant').value;
        var prix1 =0;

        prix1 = parseInt(prix) * parseInt(quantite);

        var logo = "<span class='glyphicon3 glyphicon-trash'></span>";

        rows += "<tr><td>" + logo +" </td><td>" + id + "</td><td>" + libArt  + "</td><td>" + city+ "</td><td>" + quantite + "</td><td>" + prix1 + "</td></tr>";
        $(rows).appendTo("#tableauxArticle tbody");
}


$(document).ready(function() {
  $('#tableauxArticle').on('click', '.glyphicon3', function() {
    var thisDelete = $(this).closest('tr').find('.glyphicon3').val();
    $(this).closest('tr').remove();
  });
});






</script> 